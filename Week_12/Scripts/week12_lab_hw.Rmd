---
title: "Week 12 HW"
author: "Vivian Vy Le"
date: '2022-04-21'
output: 
  html_document:
    toc: TRUE
    theme: spacelab
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, fig.path = "../Output/")
```

# Introduction
After learning about stringr and working with factors and metacharacters, the assignment for Week 12 is to clean up the intertidal datasets.

## Load library
```{r}
library(tidyverse)
library(here)
library(LaCroixColoR)
library(janitor)
```

## Load Data
```{r}
intertidialdata <-read_csv(here("Week_12", "Data","intertidaldata.csv"))
lat_data <-read_csv(here("Week_12", "Data", "intertidaldata_latitude.csv"))
```
### View Data
```{r}
view(intertidialdata)
view(lat_data)
```

## Cleaning up the data
Before analyzing and plotting the data, I am cleaning up the data. Here, I am making sure the columns are either fully characters or variables.

```{r}
intertidal_clean <- intertidialdata %>%
  clean_names() #reformat the column titles
view(intertidal_clean)

intertidal_work <- intertidal_clean %>%
  mutate_at("quadrat", str_replace, "\\,", " ") %>% #removes any commas in the column
  mutate_at("quadrat", str_replace, "\\.", " ") %>% #removes any periods in the column
  mutate_at("quadrat", str_replace, "[0-9]", " ") %>% #removes any numbers in the column
  rename("whelks" = whelks_counts) %>% #rename the columns to remove the word counts
  rename("crabs" = crabs_counts) %>%
  rename("stars" = stars_counts)
write.csv(intertidal_work, "intertidaldata_clean.csv")
```


## Data analysis
```{r}
values <- intertidal_work %>%
  group_by(site, quadrat) %>%
  relocate(quadrat, .after = site)
```

## Plotting data
```{r}
p1 <- values %>%
  gplot()
```

